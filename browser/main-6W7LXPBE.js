import{a as q,b as Q,c as W,d as tt,e as h,f as et,g as v,h as rt,i as S,j as y,k as F}from"./chunk-JVVK7CG7.js";import{Aa as J,B as g,C as N,Ca as X,D as l,E as i,Ea as Z,F as $,Fa as nt,G as k,L as G,M as H,N as B,W as V,a as c,b as d,c as j,d as b,da as z,h as x,i as u,j as p,k as A,l as m,m as E,o as D,p as U,q as w,s as P,sa as K,t as M,u as _,ya as L,za as Y}from"./chunk-XSIIPWUX.js";var ot=[{path:"",redirectTo:"users",pathMatch:"full"},{path:"users",loadComponent(){return import("./chunk-W7UQESSE.js").then(t=>t.UsersList)}},{path:"user/:id",loadComponent(){return import("./chunk-65VAPLVM.js").then(t=>t.UserDetailsPage)}}];var Ft={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},R="__@ngrx/effects_create__";function st(t,e={}){let n=e.functional?t:t(),r=c(c({},Ft),e);return Object.defineProperty(n,R,{value:r}),n}function Rt(t){return Object.getOwnPropertyNames(t).filter(r=>t[r]&&t[r].hasOwnProperty(R)?t[r][R].hasOwnProperty("dispatch"):!1).map(r=>{let o=t[r][R];return c({propertyName:r},o)})}function It(t){return Rt(t)}function it(t){return Object.getPrototypeOf(t)}function At(t){return!!t.constructor&&t.constructor.name!=="Object"&&t.constructor.name!=="Function"}function ct(t){return typeof t=="function"}function Mt(t){return t.filter(ct)}function Ot(t,e,n){let r=it(t),a=!!r&&r.constructor.name!=="Object"?r.constructor.name:null,s=It(t).map(({propertyName:f,dispatch:ht,useEffectsErrorHandler:vt})=>{let T=typeof t[f]=="function"?t[f]():t[f],C=vt?n(T,e):T;return ht===!1?C.pipe(U()):C.pipe(_()).pipe(u(St=>({effect:t[f],notification:St,propertyName:f,sourceName:a,sourceInstance:t})))});return A(...s)}var Tt=10;function ft(t,e,n=Tt){return t.pipe(E(r=>(e&&e.handleError(r),n<=1?t:ft(t,e,n-1))))}var at=(()=>{let e=class e extends j{constructor(r){super(),r&&(this.source=r)}lift(r){let o=new e;return o.source=this,o.operator=r,o}};e.\u0275fac=function(o){return new(o||e)(l(tt))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ut(...t){return m(e=>t.some(n=>typeof n=="string"?n===e.type:n.type===e.type))}var Ct=new N("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>ft}),jt="@ngrx/effects/init",bt=q(jt);function xt(t,e){if(t.notification.kind==="N"){let n=t.notification.value;!Dt(n)&&e.handleError(new Error(`Effect ${Ut(t)} dispatched an invalid action: ${wt(n)}`))}}function Dt(t){return typeof t!="function"&&t&&t.type&&typeof t.type=="string"}function Ut({propertyName:t,sourceInstance:e,sourceName:n}){let r=typeof e[t]=="function";return!!n?`"${n}.${String(t)}${r?"()":""}"`:`"${String(t)}()"`}function wt(t){try{return JSON.stringify(t)}catch{return t}}var Pt="ngrxOnIdentifyEffects";function _t(t){return O(t,Pt)}var Nt="ngrxOnRunEffects";function $t(t){return O(t,Nt)}var kt="ngrxOnInitEffects";function Gt(t){return O(t,kt)}function O(t,e){return t&&e in t&&typeof t[e]=="function"}var lt=(()=>{let e=class e extends b{constructor(r,o){super(),this.errorHandler=r,this.effectsErrorHandler=o}addEffects(r){this.next(r)}toActions(){return this.pipe(M(r=>At(r)?it(r):r),p(r=>r.pipe(M(Ht))),p(r=>{let o=r.pipe(P(s=>Bt(this.errorHandler,this.effectsErrorHandler)(s)),u(s=>(xt(s,this.errorHandler),s.notification)),m(s=>s.kind==="N"&&s.value!=null),w()),a=r.pipe(D(1),m(Gt),u(s=>s.ngrxOnInitEffects()));return A(o,a)}))}};e.\u0275fac=function(o){return new(o||e)(l(G),l(Ct))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ht(t){return _t(t)?t.ngrxOnIdentifyEffects():""}function Bt(t,e){return n=>{let r=Ot(n,t,e);return $t(n)?n.ngrxOnRunEffects(r):r}}var Vt=(()=>{let e=class e{get isStarted(){return!!this.effectsSubscription}constructor(r,o){this.effectSources=r,this.store=o,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};e.\u0275fac=function(o){return new(o||e)(l(lt),l(h))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pt(...t){let e=t.flat(),n=Mt(e);return $([n,k(()=>{i(Q),i(W,{optional:!0});let r=i(Vt),o=i(lt),a=!r.isStarted;a&&r.start();for(let s of e){let f=ct(s)?i(s):s;o.addEffects(f)}a&&i(h).dispatch(bt())})])}var dt={users:[],total:0,limit:10,skip:0,loading:!1,error:null};var mt=rt(dt,v(S,t=>d(c({},t),{loading:!0,error:null})),v(y,(t,{users:e,total:n,skip:r,limit:o})=>d(c({},t),{users:e,total:n,skip:r,limit:o,loading:!1})),v(F,(t,{error:e})=>d(c({},t),{error:e,loading:!1})));var Et=st((t=i(at),e=i(nt))=>t.pipe(ut(S),p(({page:n,limit:r})=>e.getUsers(n,r).pipe(u(o=>y({users:o.users,total:o.total,skip:o.skip,limit:o.limit})),E(o=>x(F({error:o.message})))))),{functional:!0});var gt={providers:[H(),K(),Z(ot),Y(J()),et({users:mt}),pt({selectUsers:Et})]};var I=class t{title=B("User-Dashboard");static \u0275fac=function(n){return new(n||t)};static \u0275cmp=V({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&z(0,"router-outlet")},dependencies:[X],encapsulation:2})};L(I,gt).catch(t=>console.error(t));

import{e as Y,i as q}from"./chunk-JVVK7CG7.js";import{$ as R,Da as W,Fa as G,H as f,I as _,Q as P,R as $,S as s,T as j,V as p,W as g,X as V,Y as u,Z as h,_ as N,aa as v,ba as r,ca as a,da as b,e as M,ea as y,fa as w,h as O,ha as E,i as k,ja as m,ka as F,la as c,m as L,ma as l,n as B,na as X,oa as A,pa as U,qa as I,r as T,ra as H,x as S,xa as z,y as D}from"./chunk-XSIIPWUX.js";var x=class i{OnSearchById;constructor(){this.OnSearchById=new j}search(t){this.OnSearchById.emit(t.target.value)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["app-header"]],outputs:{OnSearchById:"OnSearchById"},decls:6,vars:0,consts:[[1,"navbar","sticky-top","shadow-sm","bg-white","p-2"],[1,"container-fluid","d-flex","justify-content-between"],["role","search"],["type","search","placeholder","Search","aria-label","Search",1,"form-control","me-2",3,"input"]],template:function(e,n){e&1&&(y(0,"nav",0)(1,"div",1)(2,"h1"),l(3,"User Dashboard"),w(),y(4,"form",2)(5,"input",3),F("input",function(d){return n.search(d)}),w()()()())},styles:["input[_ngcontent-%COMP%]{background-color:#f3f3f5}"]})};var C=class i{constructor(t){this.ele=t}Highlight(t){this.ele.nativeElement.style.backgroundColor=t}onMouseEnter(){this.Highlight("#c1dcf4ff")}onMouseLeave(){this.Highlight(null)}static \u0275fac=function(e){return new(e||i)(p(P))};static \u0275dir=V({type:i,selectors:[["","appHighlight",""]],hostBindings:function(e,n){e&1&&m("mouseenter",function(){return n.onMouseEnter()})("mouseleave",function(){return n.onMouseLeave()})}})};var Z=(i,t)=>t.id;function ee(i,t){i&1&&(r(0,"div",1),b(1,"div",3),a())}function te(i,t){if(i&1&&(r(0,"div",4),l(1),a()),i&2){let e=c(),n=c();s(),U("Show ",n.page*n.limit," users of ",e.total)}}function ie(i,t){if(i&1){let e=E();r(0,"div",9),m("click",function(){let o=f(e).$implicit,d=c(2);return _(d.showDetails(o.id))}),b(1,"img",10),r(2,"div",11)(3,"h5",12),l(4),a(),r(5,"p",13),l(6),a()()()}if(i&2){let e=t.$implicit;s(),v("src",e.image,$),s(3),U("",e.firstName," ",e.lastName),s(2),A("ID: ",e.id)}}function ne(i,t){i&1&&(r(0,"div",7)(1,"h3",14),l(2,"No user found with this ID"),a(),r(3,"p"),l(4,"Please try another ID or clear the search."),a()())}function re(i,t){if(i&1){let e=E();r(0,"div",8)(1,"button",15),m("click",function(){f(e);let o=c(2);return _(o.prev())}),l(2,"prev"),a(),r(3,"div",16),l(4),a(),r(5,"button",15),m("click",function(){f(e);let o=c(2);return _(o.next())}),l(6,"next"),a()()}if(i&2){let e=c(),n=c();s(),v("disabled",n.page===1),s(3),X(n.page),s(),v("disabled",n.page*n.limit>=e.total)}}function se(i,t){if(i&1&&(u(0,te,2,2,"div",4),r(1,"div",5),N(2,ie,7,4,"div",6,Z),u(4,ne,5,0,"div",7),a(),u(5,re,7,3,"div",8)),i&2){let e=t,n=c();h(e.users.length>1?0:-1),s(2),R(e.users),s(2),h(!e.loading&&e.users.length===0?4:-1),s(),h(n.isSearch?-1:5)}}var K=class i{constructor(t,e,n){this._store=t;this._ManagemeUsers=e;this._router=n}search$=new M("");page=1;limit=10;isSearch=!1;users$;ngOnInit(){this.loadUsers(),this.users$=this.search$.pipe(B(300),T(),D(t=>t&&t.trim()!=""?(this.isSearch=!0,this._ManagemeUsers.getUserById(+t).pipe(k(e=>({users:e?[e]:[],loading:!1,total:e?1:0,error:null,skip:0,limit:this.limit})),S({loading:!0,users:[],total:0,error:null,skip:0,limit:this.limit}),L(()=>O({users:[],loading:!1,total:0,error:"User not found",skip:0,limit:this.limit})))):(this.isSearch=!1,this._store.select("users"))),S(null)),this.search$.next("")}loadUsers(){this._store.dispatch(q({page:this.page,limit:this.limit}))}next(){this.page+=1,this.loadUsers()}prev(){this.page-=1,this.loadUsers()}onSearch(t){this.search$.next(t)}showDetails(t){this._router.navigate(["user",t])}static \u0275fac=function(e){return new(e||i)(p(Y),p(G),p(W))};static \u0275cmp=g({type:i,selectors:[["app-users-list"]],decls:6,vars:6,consts:[[3,"OnSearchById"],[1,"progress-container"],[1,"container-fluid","pt-5"],[1,"progress-bar-value"],[1,"text-center","mb-3"],[1,"d-flex","justify-content-evenly","align-items-center","flex-wrap","gap-3"],["appHighlight","",1,"card","d-flex","align-items-center",2,"width","15rem"],[1,"text-center","w-100","p-5"],[1,"pagination","d-flex","justify-content-center","p-5"],["appHighlight","",1,"card","d-flex","align-items-center",2,"width","15rem",3,"click"],[1,"card-img-top","border","border-0","rounded-circle",2,"width","10rem","height","10rem",3,"src"],[1,"card-body","text-center"],[1,"card-title"],[1,"card-text"],[1,"text-muted"],["appHighlight","",1,"btn","border","m-2",3,"click","disabled"],["appHighlight","",1,"btn","btn-primary","p-3"]],template:function(e,n){if(e&1&&(r(0,"app-header",0),m("OnSearchById",function(d){return n.onSearch(d)}),a(),u(1,ee,2,0,"div",1),I(2,"async"),r(3,"div",2),u(4,se,6,3),I(5,"async"),a()),e&2){let o,d;s(),h((o=H(2,2,n.users$))!=null&&o.loading?1:-1),s(3),h((d=H(5,4,n.users$))?4:-1,d)}},dependencies:[x,C,z],styles:[".card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 10px 10px #0000004d;cursor:pointer}.card[_ngcontent-%COMP%]{transition:transform .4s ease,box-shadow .4s ease}.progress-container[_ngcontent-%COMP%]{height:4px;width:100%;background-color:#e0e0e0;overflow:hidden;position:relative}.progress-bar-value[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#0d6efd;animation:_ngcontent-%COMP%_indeterminate 1.5s infinite linear;transform-origin:0% 50%}@keyframes _ngcontent-%COMP%_indeterminate{0%{transform:translate(0) scaleX(0)}40%{transform:translate(0) scaleX(.4)}to{transform:translate(100%) scaleX(.5)}}"]})};export{K as UsersList};
